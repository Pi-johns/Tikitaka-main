{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block title %}
{{product.product_name}} | Pools TikiTaka
{% endblock %}

{% block body %}
<div class="bg-gray-50">
    <!-- Breadcrumb -->
    <div class="container mx-auto px-4 py-3">
        <div class="flex items-center text-sm">
            <a href="/" class="text-blue-600 hover:text-primary">Home</a>
            <span class="mx-2 text-gray-400">/</span>
            <a href="/products" class="text-blue-600 hover:text-primary">Products</a>
            <span class="mx-2 text-gray-400">/</span>
            <span class="text-gray-600">{{product.product_name|truncatechars:40}}</span>
        </div>
    </div>

    <!-- Main Product Section -->
    <div class="container mx-auto px-4 py-6">
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <div class="flex flex-col lg:flex-row">
                <!-- Product Gallery Section -->
                <div class="w-full lg:w-5/12 p-4 border-r border-gray-200">
                    <div class="sticky top-4">
                        <!-- Main Image Slider -->
                        <div class="swiper product-gallery-slider mb-2">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                    <img src="{{ product.product_img.url }}" alt="{{ product.product_name }}" 
                                        class="w-full h-[300px] sm:h-[400px] lg:h-[500px] object-contain transition-transform duration-300 ease-in-out hover:scale-105">
                                </div>
                                {% if product.product_img1 %}
                                <div class="swiper-slide">
                                    <img src="{{ product.product_img1.url }}" alt="{{ product.product_name }}" 
                                        class="w-full h-[300px] sm:h-[400px] lg:h-[500px] object-contain transition-transform duration-300 ease-in-out hover:scale-105">
                                </div>
                                {% endif %}
                                {% if product.product_img2 %}
                                <div class="swiper-slide">
                                    <img src="{{ product.product_img2.url }}" alt="{{ product.product_name }}" 
                                        class="w-full h-[300px] sm:h-[400px] lg:h-[500px] object-contain transition-transform duration-300 ease-in-out hover:scale-105">
                                </div>
                                {% endif %}
                            </div>
                
                            <!-- Navigation Arrows -->
                            <div class="swiper-button-next"></div>
                            <div class="swiper-button-prev"></div>
                        </div>
                
                        <!-- Thumbnails Slider -->
                        <div class="swiper product-thumbs">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                    <img src="{{ product.product_img.url }}" alt="{{ product.product_name }}" 
                                        class="w-14 h-14 sm:w-16 sm:h-16 object-cover cursor-pointer rounded-md border-2 border-gray-200 hover:border-primary transition-all duration-200">
                                </div>
                                {% if product.product_img1 %}
                                <div class="swiper-slide">
                                    <img src="{{ product.product_img1.url }}" alt="{{ product.product_name }}" 
                                        class="w-14 h-14 sm:w-16 sm:h-16 object-cover cursor-pointer rounded-md border-2 border-gray-200 hover:border-primary transition-all duration-200">
                                </div>
                                {% endif %}
                                {% if product.product_img2 %}
                                <div class="swiper-slide">
                                    <img src="{{ product.product_img2.url }}" alt="{{ product.product_name }}" 
                                        class="w-14 h-14 sm:w-16 sm:h-16 object-cover cursor-pointer rounded-md border-2 border-gray-200 hover:border-primary transition-all duration-200">
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- SwiperJS Script -->
                <!-- SwiperJS Script -->
<script>
    const productThumbs = new Swiper('.product-thumbs', {
        slidesPerView: 'auto',
        spaceBetween: 6,
        freeMode: true,
        watchSlidesProgress: true,
        breakpoints: {
            320: { slidesPerView: 4, spaceBetween: 6 },
            640: { slidesPerView: 5, spaceBetween: 8 },
            1024: { slidesPerView: 6, spaceBetween: 10 },
        }
    });

    const productGallery = new Swiper('.product-gallery-slider', {
        slidesPerView: 1,
        loop: true,
        speed: 500, // Speed of slide transition (faster and smoother)
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        thumbs: {
            swiper: productThumbs,
        },
        // Removed 'effect: fade' for instant switch without blank
        // If you still want a fade effect, better use this customized:
        // effect: 'fade',
        // fadeEffect: { crossFade: true },
        // but NOT mandatory. Without effect: 'fade', switching is instant.
    });
</script>

                


                <!-- Product Info -->
                <div class="w-full lg:w-7/12 p-6">
                    <div class="mb-6 pb-6 border-b border-gray-200">
                        <h1 class="text-2xl font-bold text-gray-900 mb-2">{{ product.product_name }}</h1>
                        
                        <div class="flex items-center mb-4">
                            <div class="flex items-center mr-3">
                                <div class="flex items-center text-yellow-400 mr-1">
                                    {% for i in "12345" %}
                                        {% if i|add:"0" <= product.rating %}
                                            <i class="fas fa-star text-sm"></i>
                                        {% else %}
                                            <i class="far fa-star text-sm"></i>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                                <span class="text-blue-600 text-sm ml-1">{{ rating|floatformat:1 }}</span>
                            </div>
                            <span class="text-gray-500 text-sm">| {{ no_of_reviews }} reviews</span>
                            {% if product.tag %}
                            <span class="ml-3 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">{{ product.tag }}</span>
                            {% endif %}
                        </div>
                        
                        <div class="flex items-center mb-4">
                            <span class="text-2xl font-bold text-gray-900">Ksh {{ product.price|intcomma }}</span>
                            {% if product.old_price %}
                            <span class="ml-2 text-gray-400 text-sm line-through">Ksh {{ product.old_price|intcomma }}</span>
                            {% endif %}
                        </div>
                        
                        <div class="flex items-center space-x-2 text-sm text-gray-600 mb-4">
                            <span class="flex items-center">
    {% if product.stock > 0 %}
        <i class="fas fa-check-circle text-green-500 mr-1"></i>
        <span class="text-green-600 font-semibold">{{ product.stock }} piece{% if product.stock > 1 %}s{% endif %} In Stock</span>
    {% else %}
        <i class="fas fa-times-circle text-red-500 mr-1"></i>
        <span class="text-red-600 font-semibold">Out of Stock</span>
    {% endif %}
</span>

                            <span>|</span>
                            <span>MOQ: ({{ product.stock }} piece) </span>
                            <span>|</span>
                            <span>Brand: Pools TikiTaka</span>
                        </div>
                        
                        <div class="bg-blue-50 border border-blue-100 rounded-lg p-3 mb-4">
                            <div class="flex items-start">
                                <i class="fas fa-info-circle text-blue-500 mt-1 mr-2"></i>
                                <div>
                                    <p class="text-sm text-red-600 font-semibold">This product does not qualify for free shipping</p>

                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Key Specifications -->
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">Key Specifications</h3>
                        <div class="grid grid-cols-2 gap-3">
                            {% for spec in specs|slice:":6" %}
    <div class="flex">
        <span class="text-gray-500 text-sm flex-shrink-0">{{ spec.0 }}:</span>
        <span class="text-gray-800 text-sm ml-1">{{ spec.1 }}</span>
    </div>
{% endfor %}

                        </div>
                        <a href="#" class="text-blue-600 hover:text-primary text-sm mt-2 inline-block">View all specifications</a>
                    </div>
                    
                   <!-- Quantity & Actions -->
<div class="mb-6">
    <div class="flex items-center mb-4">
        <span class="text-gray-700 mr-3">Quantity:</span>
        <div class="flex items-center border border-gray-300 rounded">
            <button id="decreaseQty" class="px-3 py-1 text-gray-600 hover:bg-gray-100">
                <i class="fas fa-minus"></i>
            </button>
            <span id="quantityDisplay" class="px-3 py-1">1</span>
            <button id="increaseQty" class="px-3 py-1 text-gray-600 hover:bg-gray-100">
                <i class="fas fa-plus"></i>
            </button>
        </div>
        <span class="text-gray-500 text-sm ml-2">({{ product.stock }} available)</span>
    </div>

    <div class="flex flex-wrap gap-3">
        <form action="/addtocart/{{ product.id }}" method="POST" id="addToCartForm" class="flex-1">
            {% csrf_token %}
            <input type="hidden" name="quantity" id="quantityInput" value="1">
            <button type="submit" class="w-full bg-primary hover:bg-orange-700 text-white px-4 py-3 rounded font-medium text-center transition">
                <i class="fas fa-shopping-cart mr-2"></i> Add to Cart
            </button>
        </form>
        <a href="/buynow/{{ product.id }}" class="flex-1 bg-secondary hover:bg-blue-800 text-white px-4 py-3 rounded font-medium text-center transition">
            Buy Now
        </a>
        {% if not wishlist %}
        <a href="{% url 'AddfromWishlist' product.id %}" class="border border-gray-300 rounded px-4 py-3 text-gray-700 hover:bg-gray-50 transition">
            <i class="far fa-heart mr-2"></i> Add to Wishlist
        </a>
        {% else %}
        <a href="{% url 'RemovefromWishlist' product.id %}" class="border border-gray-300 rounded px-4 py-3 text-primary hover:bg-gray-50 transition">
            <i class="fas fa-heart mr-2"></i> Remove from Wishlist
        </a>
        {% endif %}
        
    </div>
</div>

<!-- Script to handle plus and minus -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const decreaseBtn = document.getElementById('decreaseQty');
    const increaseBtn = document.getElementById('increaseQty');
    const quantityDisplay = document.getElementById('quantityDisplay');
    const quantityInput = document.getElementById('quantityInput');
    const maxStock = {{ product.stock }};

    let quantity = 1;

    decreaseBtn.addEventListener('click', function() {
        if (quantity > 1) {
            quantity--;
            quantityDisplay.textContent = quantity;
            quantityInput.value = quantity;
        }
    });

    increaseBtn.addEventListener('click', function() {
        if (quantity < maxStock) {
            quantity++;
            quantityDisplay.textContent = quantity;
            quantityInput.value = quantity;
        }
    });
});
</script>

                    
                    <!-- Shipping Info -->
                    <div class="border-t border-gray-200 pt-4">
                        <div class="flex items-start">
                            <i class="fas fa-truck text-gray-400 mt-1 mr-2"></i>
                            <div>
                                <h4 class="text-sm font-medium text-gray-900 mb-1">Shipping & Delivery</h4>
                                <p class="text-sm text-gray-600">Estimated delivery time: 2–7 business days, depending on your location.</p>
                                <p class="text-sm text-gray-600">Shipping cost is calculated based on distance and product size — there is no free delivery.</p>
                                <p class="text-sm text-gray-600">We deliver across Kenya and East Africa. Small items are sent via courier services and matatus; larger or bulky products are transported via trucks.</p>
                                <p class="text-sm text-gray-600">Our team will contact you after your order to confirm delivery options and exact shipping costs.</p>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Tabs -->
    <div class="container mx-auto px-4 py-6">
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <div class="border-b border-gray-200">
                <nav class="flex -mb-px">
                    <button class="tab-button active py-4 px-6 text-center border-b-2 font-medium text-sm border-primary text-primary" data-tab="description">
                        Product Details
                    </button>
                    <button class="tab-button py-4 px-6 text-center border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="specifications">
                        Specifications
                    </button>
                    <button class="tab-button py-4 px-6 text-center border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="reviews">
                        Customer Reviews ({{no_of_reviews}})
                    </button>
                    <button class="tab-button py-4 px-6 text-center border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="shipping">
                        Shipping & Payment
                    </button>
                </nav>
            </div>
            
            <div class="p-6">
                <!-- Description Tab -->
                <div id="description-tab" class="tab-content active">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Product Description</h3>
                    <div class="prose max-w-none">
                        <p>{{ product.description }}</p>
                    </div>
                </div>
                
                <!-- Specifications Tab -->
                <div id="specifications-tab" class="tab-content hidden">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Technical Specifications</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        {% for spec in specs %}
                        <div class="flex border-b border-gray-100 py-2">
                            <span class="text-gray-500 w-1/3">{{ spec.0 }}</span>
                            <span class="text-gray-800 w-2/3">{{ spec.1 }}</span>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                
                <!-- Reviews Tab -->
                <div id="reviews-tab" class="tab-content hidden">
                    <div class="flex flex-col lg:flex-row gap-8">
                        <!-- Reviews Summary -->
                        <div class="lg:w-1/3">
                            <div class="bg-gray-50 rounded-lg p-4 mb-6">
                                <h4 class="text-lg font-semibold text-gray-900 mb-3">Customer Reviews</h4>
                                <div class="flex items-center mb-3">
                                    <div class="flex items-center text-yellow-400 mr-2">
                                        {% for i in "12345" %}
                                            {% if i|add:"0" <= product.rating %}
                                                <i class="fas fa-star"></i>
                                            {% else %}
                                                <i class="far fa-star"></i>
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                    <span class="text-2xl font-bold text-gray-900">{{ rating|floatformat:1 }}</span>
                                    <span class="text-gray-500 ml-1">out of 5</span>
                                </div>
                                <p class="text-gray-600 text-sm mb-4">{{ no_of_reviews }} global ratings</p>
                                
                                <div class="space-y-2">
                                    {% for i in "54321" %}
                                    <div class="flex items-center">
                                        <span class="text-sm text-gray-600 w-8">{{ i }} star</span>
                                        <div class="flex-1 mx-2">
                                            <div class="w-full bg-gray-200 rounded-full h-2">
                                                <div class="bg-yellow-400 h-2 rounded-full"></div>
                                            </div>
                                        </div>
                                        <span class="text-sm text-gray-600 w-8 text-right"></span>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            
                            <!-- Review Form -->
                            {% if user.id %}
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <h4 class="text-lg font-semibold text-gray-900 mb-3">Write a Review</h4>
                                <form method="POST" action="/postreview/{{product.id}}">
                                    {% csrf_token %}
                                    <div class="mb-3">
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Rating</label>
                                        <div class="flex items-center">
                                            {% for i in "54321" %}
                                            <input type="radio" id="star{{ i }}" name="rating" value="{{ i }}" class="hidden" {% if forloop.first %}checked{% endif %}>
                                            <label for="star{{ i }}" class="text-2xl text-gray-300 cursor-pointer hover:text-yellow-400"><i class="fas fa-star"></i></label>
                                            {% endfor %}
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="subject" class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                                        <input type="text" name="subject" id="subject" class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-primary" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="review" class="block text-sm font-medium text-gray-700 mb-1">Review</label>
                                        <textarea name="review" id="review" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-primary" required></textarea>
                                    </div>
                                    <button type="submit" class="w-full bg-primary hover:bg-orange-700 text-white px-4 py-2 rounded font-medium transition">
                                        Submit Review
                                    </button>
                                </form>
                            </div>
                            {% else %}
                            <div class="bg-gray-50 rounded-lg p-4 text-center">
                                <i class="fas fa-user-lock text-3xl text-gray-400 mb-3"></i>
                                <h4 class="text-gray-700 font-medium mb-2">Please login to review</h4>
                                <a href="/login" class="inline-block bg-primary hover:bg-orange-700 text-white px-4 py-2 rounded font-medium transition">
                                    Login Now
                                </a>
                            </div>
                            {% endif %}
                        </div>
                        
                        <!-- Reviews List -->
                        <div class="lg:w-2/3">
                            {% if no_of_reviews %}
                            <div class="space-y-6">
                                {% for review in reviews %}
                                <div class="border-b border-gray-200 pb-6">
                                    <div class="flex items-start mb-3">
                                        <img src="{{ review.customer.profile_pic.url }}" class="w-10 h-10 rounded-full object-cover mr-3" alt="{{review.customer.user.first_name}}">
                                        <div class="flex-1">
                                            <div class="flex items-center justify-between">
                                                <h4 class="font-medium text-gray-900">{{review.customer.user.first_name}} {{review.customer.user.last_name}}</h4>
                                                <span class="text-gray-500 text-sm">{{review.created_at|date:"M d, Y"}}</span>
                                            </div>
                                            <div class="flex items-center mt-1">
                                                <div class="flex items-center text-yellow-400 mr-2">
                                                    {% for i in "12345" %}
                                                        {% if forloop.counter <= review.rating %}
                                                            <i class="fas fa-star text-sm"></i>
                                                        {% else %}
                                                            <i class="far fa-star text-sm"></i>
                                                        {% endif %}
                                                    {% endfor %}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <h5 class="font-medium text-gray-900 mb-2">{{review.subject}}</h5>
                                    <p class="text-gray-600">{{review.review}}</p>
                                </div>
                                {% endfor %}
                            </div>
                            {% else %}
                            <div class="text-center py-8">
                                <i class="far fa-comment-dots text-4xl text-gray-300 mb-3"></i>
                                <h4 class="text-gray-600 font-medium">No reviews yet</h4>
                                <p class="text-gray-500">Be the first to review this product</p>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <!-- Shipping Tab -->
                <div id="shipping-tab" class="tab-content hidden">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Shipping & Payment Information</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">Shipping Policy</h4>
                            <ul class="list-disc pl-5 space-y-2 text-gray-600">
                                <li>Standard shipping: Ksh 1,500 (3-7 business days)</li>
                                <li>Free shipping on orders over Ksh 50,000</li>
                                <li>Express shipping available at additional cost</li>
                                <li>Delivery to all major cities in Kenya</li>
                                <li>Tracking number provided for all shipments</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">Payment Options</h4>
                            <ul class="list-disc pl-5 space-y-2 text-gray-600">
                                <li>MPESA (Paybill: 123456, Account: Your Name)</li>
                                <li>Credit/Debit Card (Visa, Mastercard)</li>
                                <li>Bank Transfer</li>
                                <li>Cash on Delivery (Nairobi only)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Related Products -->
    <div class="container mx-auto px-4 py-6">
        <h2 class="text-xl font-bold text-gray-900 mb-6">Similar Products</h2>
        
        <div class="relative">
            <div class="swiper-container related-products-slider">
                <div class="swiper-wrapper">
                    {% for related_product in related_products %}
                    <div class="swiper-slide">
                        <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition">
                            <div>
                                <a href="/productdetail/{{ related_product.id }}" class="block">
                                    <img src="{{ related_product.product_img.url }}" alt="{{ related_product.product_name }}" 
                                         class="w-full h-48 object-contain p-4">
                                </a>
                                {% if related_product.tag %}
                                <span class="absolute top-2 left-2 bg-primary text-white text-xs px-2 py-1 rounded uppercase">
                                    {{ related_product.tag }}
                                </span>
                                {% endif %}
                                <button class="absolute top-2 right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-gray-100 transition">
                                    <i class="far fa-heart text-gray-600"></i>
                                </button>
                            </div>
                            
                            <div class="p-4">
                                <a href="/productdetail/{{ related_product.id }}" class="block">
                                    <h3 class="font-medium text-gray-900 mb-1 hover:text-primary transition line-clamp-2">
                                        {{ related_product.product_name }}
                                    </h3>
                                </a>
                                
                                <div class="flex items-center mb-4">
                                    <div class="flex items-center mr-3">
                                        <div class="flex items-center text-red mr-1">
                                            {% for i in "12345" %}
                                                {% if i|add:"0" <= product.rating %}
                                                    <i class="fas fa-star text-sm"></i>
                                                {% else %}
                                                    <i class="far fa-star text-sm"></i>
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                        <span class="text-blue-600 text-sm ml-1">{{ rating|floatformat:1 }}</span>
                                    </div>
                                    <span class="text-gray-500 text-sm"> </span>
                                    {% if product.tag %}
                                    <span class="ml-3 text-red-500 px-2 py-1 rounded">✨</span>

                                    {% endif %}
                                </div>
                                
                                <div class="flex items-end justify-between">
                                    <div>
                                        <p class="text-primary font-bold">Ksh {{ related_product.price|intcomma }}</p>
                                        {% if related_product.old_price %}
                                        <p class="text-gray-400 text-sm line-through">Ksh {{ related_product.old_price|intcomma }}</p>
                                        {% endif %}
                                    </div>
                                    <span class="text-xs text-gray-500">MOQ: {{ product.stock }}</span>
                                </div>
                                
                                <a href="/productdetail/{{ related_product.id }}" class="mt-3 block w-full text-center bg-gray-100 hover:bg-primary hover:text-white text-gray-800 px-3 py-2 rounded text-sm font-medium transition">
                                    View Details
                                </a>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            
            <div class="swiper-button-next related-products-next"></div>
            <div class="swiper-button-prev related-products-prev"></div>
        </div>
    </div>

    <!-- Supplier Information -->
<div class="container mx-auto px-4 py-6">
    <div class="bg-white rounded-2xl shadow-md border border-gray-200 p-6">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">About the Supplier</h2>
        <div class="flex flex-col md:flex-row items-start">
            <div class="flex-shrink-0 mb-6 md:mb-0 md:mr-8">
                <img src="{% static 'images/tikitaka.png' %}" alt="Pools TikiTaka" class="w-28 h-28 object-contain rounded-full border border-gray-300 p-2 bg-gray-50">
            </div>
            <div class="flex-1">
                <h3 class="text-xl font-semibold text-gray-900 mb-2">Pools TikiTaka</h3>
                <div class="flex items-center text-sm text-gray-600 mb-4 space-x-4 flex-wrap">
                    <div class="flex items-center">
                        <i class="fas fa-map-marker-alt text-primary mr-1"></i>
                        <span>Nairobi, Kenya</span>
                    </div>
                    <div class="flex items-center">
                        <i class="fas fa-star text-yellow-400 mr-1"></i>
                        <span>4.9 Seller Rating</span>
                    </div>
                    <div class="flex items-center">
                        <i class="fas fa-check-circle text-green-500 mr-1"></i>
                        <span>Verified Supplier</span>
                    </div>
                    <div class="flex items-center">
                        <i class="fas fa-boxes text-gray-500 mr-1"></i>
                        <span>100+ Products</span>
                    </div>
                </div>
                <p class="text-gray-700 mb-6">
                    Kenya's premier supplier of high-quality pool tables and accessories.
                    We provide professional equipment for both commercial and residential use.
                </p>

                <!-- Branches -->
                <div>
                    <h4 class="text-lg font-semibold text-gray-800 mb-3">Our Branches</h4>
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6">
                        <div class="flex items-center bg-gray-100 rounded-lg p-3 hover:bg-primary hover:text-white transition-all">
                            <i class="fas fa-map-pin mr-2"></i> Nairobi
                        </div>
                        <div class="flex items-center bg-gray-100 rounded-lg p-3 hover:bg-primary hover:text-white transition-all">
                            <i class="fas fa-map-pin mr-2"></i> Nakuru
                        </div>
                        <div class="flex items-center bg-gray-100 rounded-lg p-3 hover:bg-primary hover:text-white transition-all">
                            <i class="fas fa-map-pin mr-2"></i> Narok
                        </div>
                        <div class="flex items-center bg-gray-100 rounded-lg p-3 hover:bg-primary hover:text-white transition-all">
                            <i class="fas fa-map-pin mr-2"></i> Eldoret
                        </div>
                        <div class="flex items-center bg-gray-100 rounded-lg p-3 hover:bg-primary hover:text-white transition-all">
                            <i class="fas fa-map-pin mr-2"></i> Mombasa
                        </div>
                    </div>
                </div>

                <!-- Buttons -->
                <div class="flex flex-wrap gap-3 mb-6">
                    <a href="/products" class="border border-primary text-primary hover:bg-primary hover:text-white px-5 py-2 rounded-lg text-sm font-semibold transition">
                        View Store
                    </a>
                    <a href="/contactus" class="border border-secondary text-secondary hover:bg-secondary hover:text-white px-5 py-2 rounded-lg text-sm font-semibold transition">
                        Contact Supplier
                    </a>
                </div>

                <!-- Social Links -->
                <div class="flex items-center gap-4">
                    <a href="https://facebook.com/" target="_blank" class="text-gray-500 hover:text-primary transition-transform transform hover:-translate-y-1 text-xl">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://instagram.com/" target="_blank" class="text-gray-500 hover:text-primary transition-transform transform hover:-translate-y-1 text-xl">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://tiktok.com/" target="_blank" class="text-gray-500 hover:text-primary transition-transform transform hover:-translate-y-1 text-xl">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="https://twitter.com/" target="_blank" class="text-gray-500 hover:text-primary transition-transform transform hover:-translate-y-1 text-xl">
                        <i class="fab fa-twitter"></i>
                    </a>
                </div>

            </div>
        </div>
    </div>
</div>

</div>

{% endblock %}

{% block scripts %}
<!-- Initialize Swiper -->
<script>
    // Product Gallery
    const galleryThumbs = new Swiper('.product-thumbs', {
        spaceBetween: 10,
        slidesPerView: 4,
        freeMode: true,
        watchSlidesVisibility: true,
        watchSlidesProgress: true,
    });
    
    const galleryTop = new Swiper('.product-gallery-slider', {
        spaceBetween: 10,
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        thumbs: {
            swiper: galleryThumbs
        }
    });
    
    // Related Products Slider
    const relatedProductsSlider = new Swiper('.related-products-slider', {
        slidesPerView: 2,
        spaceBetween: 20,
        navigation: {
            nextEl: '.related-products-next',
            prevEl: '.related-products-prev',
        },
        breakpoints: {
            640: {
                slidesPerView: 3,
            },
            768: {
                slidesPerView: 4,
            },
            1024: {
                slidesPerView: 5,
            },
        }
    });
    
    // Tab functionality
    document.querySelectorAll('.tab-button').forEach(button => {
        button.addEventListener('click', () => {
            // Remove active class from all buttons and tabs
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active', 'border-primary', 'text-primary');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
                tab.classList.remove('active');
            });
            
            // Add active class to clicked button and corresponding tab
            button.classList.add('active', 'border-primary', 'text-primary');
            button.classList.remove('border-transparent', 'text-gray-500');
            
            const tabId = button.getAttribute('data-tab') + '-tab';
            document.getElementById(tabId).classList.remove('hidden');
            document.getElementById(tabId).classList.add('active');
        });
    });

    // Star rating in review form
    const stars = document.querySelectorAll('input[name="rating"]');
    stars.forEach(star => {
        star.addEventListener('change', function() {
            const rating = this.value;
            const starLabels = document.querySelectorAll('label[for^="star"]');
            
            starLabels.forEach((label, index) => {
                if (index < rating) {
                    label.querySelector('i').classList.add('text-yellow-400');
                    label.querySelector('i').classList.remove('text-gray-300');
                } else {
                    label.querySelector('i').classList.add('text-gray-300');
                    label.querySelector('i').classList.remove('text-yellow-400');
                }
            });
        });
    });
    // Initialize all interactive components
document.addEventListener('DOMContentLoaded', function() {
    // Product gallery swiper
    const galleryThumbs = new Swiper('.product-thumbs', {
        spaceBetween: 10,
        slidesPerView: 4,
        freeMode: true,
        watchSlidesVisibility: true,
        watchSlidesProgress: true,
    });
    
    const galleryTop = new Swiper('.product-gallery-slider', {
        spaceBetween: 10,
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        thumbs: {
            swiper: galleryThumbs
        }
    });
    
    // Related products swiper
    new Swiper('.related-products-slider', {
        slidesPerView: 2,
        spaceBetween: 20,
        navigation: {
            nextEl: '.related-products-next',
            prevEl: '.related-products-prev',
        },
        breakpoints: {
            640: { slidesPerView: 3 },
            768: { slidesPerView: 4 },
            1024: { slidesPerView: 5 },
        }
    });
    
    // Tab functionality
    document.querySelectorAll('.tab-button').forEach(button => {
        button.addEventListener('click', function() {
            // Remove active classes
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active', 'border-primary', 'text-primary');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
                tab.classList.remove('active');
            });
            
            // Add active class to clicked button and tab
            this.classList.add('active', 'border-primary', 'text-primary');
            this.classList.remove('border-transparent', 'text-gray-500');
            
            const tabId = this.getAttribute('data-tab') + '-tab';
            document.getElementById(tabId).classList.remove('hidden');
            document.getElementById(tabId).classList.add('active');
        });
    });
    
    // Quantity selector
    document.querySelectorAll('.qty-btn').forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            const input = this.parentElement.querySelector('.qty-input');
            let value = parseInt(input.value);
            
            if (this.classList.contains('decrease') && value > 1) {
                input.value = value - 1;
            } else if (this.classList.contains('increase')) {
                input.value = value + 1;
            }
        });
    });
    
    // Wishlist toggle
    document.querySelectorAll('.wishlist-btn').forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            const productId = this.getAttribute('data-product-id');
            const isWishlisted = this.classList.contains('wishlisted');
            
            fetch(`/${isWishlisted ? 'removefromwishlist' : 'addtowishlist'}/${productId}/`, {
                method: 'POST',
                headers: {
                    'X-CSRFToken': '{{ csrf_token }}',
                    'Content-Type': 'application/json',
                },
            }).then(response => {
                if (response.ok) {
                    this.classList.toggle('wishlisted');
                    const icon = this.querySelector('i');
                    icon.classList.toggle('far');
                    icon.classList.toggle('fas');
                }
            });
        });
    });
});
</script>
{% endblock %}